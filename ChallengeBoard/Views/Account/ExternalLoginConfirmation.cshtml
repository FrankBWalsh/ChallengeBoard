@model ChallengeBoard.Models.RegisterExternalLoginModel
@{
    ViewBag.Title = "Register";
}

@Html.Partial("_HeaderPartial", new ChallengeBoard.Infrastucture.PageHeader("Associate your " + @ViewBag.ProviderDisplayName + " account."))
    
<div class="span12">
    <div class="well">
        @using (Html.BeginForm("ExternalLoginConfirmation", "Account", new { ReturnUrl = ViewBag.ReturnUrl }))
        {
            @Html.AntiForgeryToken()
            @Html.Partial("_ValidationSummary", ViewData.ModelState)

            <fieldset>
                <p>
                    You've successfully authenticated with <strong>@ViewBag.ProviderDisplayName</strong>.
                    Please enter a user name for this site below and click the Confirm button to finish
                    logging in.
                </p>
                <div class="control-group">
                    @Html.LabelFor(m => m.UserName)
                    <div class="controls">
                        @Html.TextBoxFor(m => m.UserName)
                        @Html.ValidationMessageFor(m => m.UserName)
                    </div>
                </div>
                <div class="control-group">
                    @Html.LabelFor(m => m.Email)
                    <div class="controls">
                        @Html.TextBoxFor(m => m.Email)
                        @Html.ValidationMessageFor(m => m.Email)
                    </div>
                </div>
                @Html.HiddenFor(m => m.ExternalLoginData)
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Register</button>
                </div>
            </fieldset>
        }
    </div>
</div>

    @section Scripts {
        @Scripts.Render("~/bundles/jqueryval")
    }
